<!DOCTYPE html>
<html lang="zh_CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>51_箭头函数</title>
</head>

<body>
    <script>
        // 箭头函数
        const fn = () => {
            console.log(123);
        };
        fn();
        const fun = (x) => {
            console.log(x);
        };
        fun(1);
        // 只有一个形参的时候可以省略小括号
        const func = x => {
            console.log(x);
        };
        func(1);
        // 只有一行代码的时候可以省略大括号 隐式返回
        const funct = x => console.log(x);
        funct(1);
        // 只有一行代码的时候可以省略return
        const functi = x => x + x;
        console.log(functi(1));
        // 箭头函数可以直接返回一个对象
        const functio = (uname) => ({ uname: uname });
        console.log(functio('kinght'));

        // 箭头函数没有arguments动态参数，但是有剩余参数...args
        // 利用箭头函数求和
        const getSum = (...arr) => {
            let sum = 0;
            for (let i = 0; i < arr.length; i++) {
                sum += arr[i];
            }
            return sum;
        };
        const result = getSum(1, 2, 4);
        console.log(result);

        // 箭头函数不会创建自己的this，它只会从自己的作用域链的上层沿用this
        const f = () => {
            console.log(this);
        };
        fn(); // Window
        const obj = {
            uname: 'kinght',
            sayHi: () => {
                console.log(this); // this 指向 Window
            }
        };
        obj.sayHi();
        const obj1 = {
            uname: 'kinght',
            sayHi: function () {
                let i = 10;
                const count = () => {
                    console.log(this); // this 指向 obj1
                };
            }
        }
        obj1.sayHi();
    </script>
</body>

</html>