<!DOCTYPE html>
<html lang="zh_CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>46_闭包</title>
</head>

<body>
    <script>
        // 简单写法
        function outer() {
            let a = 10;
            function fn() {
                console.log(a);
            };
            fn();
        };

        // 常见的闭包的形式，外部可以访问使用函数内部的变量
        function outers() {
            let a = 10;
            function fn() {
                console.log(a);
            };
            return fn;
        };
        const fun = outers();
        fun(); // 

        // 闭包的应用
        // 普通形式 统计函数调用的次数
        function fu() {
            let count = 1;
            function func() {
                count++;
                console.log(`函数被调用${count}次`);
            };
            return func;
        }
        const result = fu();
        result(); // 2
        result(); // 3
    </script>
</body>

</html>